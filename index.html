<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>T√¨m B√†i H√°t Qua L·ªùi</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center px-4">
  <div class="bg-white shadow-xl rounded-xl p-6 w-full max-w-xl">
    <h1 class="text-2xl font-bold text-center text-gray-800 mb-4">üîç T√¨m B√†i H√°t Qua L·ªùi</h1>

    <input id="lyricsInput" type="text" placeholder="Nh·∫≠p m·ªôt ƒëo·∫°n l·ªùi b√†i h√°t..."
      class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" />

    <button onclick="searchYouTube()"
      class="mt-4 w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition">T√¨m b√†i h√°t</button>

    <div id="result" class="mt-6 text-center text-gray-800"></div>
  </div>

  <script>
    async function searchYouTube() {
      const lyrics = document.getElementById("lyricsInput").value.trim();
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = `<p class="text-sm text-gray-500">‚è≥ ƒêang t√¨m ki·∫øm tr√™n YouTube...</p>`;

      if (!lyrics) {
        resultDiv.innerHTML = `<p class="text-red-500 font-semibold">‚ùó Vui l√≤ng nh·∫≠p l·ªùi b√†i h√°t.</p>`;
        return;
      }

      const apiKey = "AIzaSyDUaEAdkfCAJQu1iUQQyd16uAYYWfjTX_8"; // üëâ Thay b·∫±ng API key th·∫≠t
      const query = encodeURIComponent(lyrics);
      const apiUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${query}&key=${apiKey}&type=video&maxResults=1`;

      try {
        const res = await fetch(apiUrl);
        const data = await res.json();

        if (!data.items || data.items.length === 0) {
          resultDiv.innerHTML = `<p class="text-red-500 font-semibold">‚ùå Kh√¥ng t√¨m th·∫•y video n√†o.</p>`;
          return;
        }

        const video = data.items[0];
        const videoId = video.id.videoId;
        const title = video.snippet.title;
        const description = video.snippet.description;
        const thumbnail = video.snippet.thumbnails.high.url;
        const link = `https://www.youtube.com/watch?v=${videoId}`;

        resultDiv.innerHTML = `
          <div class="mt-4">
            <img src="${thumbnail}" alt="Thumbnail" class="rounded-xl w-full mb-2 shadow" />
            <p class="text-lg font-semibold leading-snug">${title}</p>
            <p class="text-sm text-gray-600 italic mt-1 line-clamp-2">${description}</p>
            <a href="${link}" target="_blank" class="text-blue-600 underline mt-2 inline-block">Xem tr√™n YouTube</a>
          </div>
        `;
      } catch (err) {
        console.error(err);
        resultDiv.innerHTML = `<p class="text-red-500">‚ùó C√≥ l·ªói x·∫£y ra khi t√¨m ki·∫øm.</p>`;
      }
    }
  </script>
</body>
</html>
